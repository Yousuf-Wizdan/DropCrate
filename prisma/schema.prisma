generator client {
  provider = "prisma-client-js"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model File {
  id String @id @default(cuid())

  // Basic File/Folder Information
  name String
  path String
  size Int
  type String

  // Storage Information
  fileUrl      String
  thumbnailUrl String?

  // Ownership
  userId   String  @unique
  parentId String?

  // file/folder flags
  isFolder Boolean @default(false)
  isStarred Boolean @default(false)
  isTrash Boolean @default(false)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt


  // Relations
  parent  File?  @relation("FileToFile", fields: [parentId], references: [id])
  children File[] @relation("FileToFile")
}
